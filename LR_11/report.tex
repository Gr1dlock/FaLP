\documentclass[a4paper,12pt]{article}

\input{preamble}

\begin{document}
	
\include{title}

\textbf{Цель работы}: познакомиться со средой Visual Prolog, познакомиться со структурой программы, способом запуска и формой вывода результатов.\\

\textbf{Задачи работы}: изучить принципы работы в среде Visual Prolog, возможность получения однократного и многократного результата, изучить базовые конструкции языка Prolog, структуру программы Prolog, форму ввода исходных данных и вывода результатов работы программы.

\section*{Теория}

\subsection*{Программа на Prolog}

Программа на Prolog представляет собой набор фактов и правил, обеспечивающих получение заключений на основе этих утверждений. Программа содержит базу знаний и вопрос. База знаний содержит истинные значения, используя которые программа выдает ответ на вопрос. 

Основным элементом языка является терм. Терм – это:
\begin{enumerate}
	\item Константа: 
	\begin{itemize}
		\item Число (целое, вещественное),
		\item Символьный атом (комбинация символов латинского алфавита, цифр и символа подчеркивания, начинающаяся со строчной буквы),
		\item Строка: последовательность символов, заключенных в кавычки.
	\end{itemize}
	\item Переменная:
	\begin{itemize}
		\item Именованная – обозначается комбинацией символов латинского алфавита, цифр и символа подчеркивания, начинающейся с прописной буквы или символа подчеркивания,
		\item Анонимная  - обозначается символом подчеркивания
	\end{itemize}
	\item Составной терм:
		Это средство организации группы отдельных элементов знаний в единый  объект,  синтаксически представляется: f(t1, t2, …,tm), где f -  функтор (отношение между объектами), t1, t2, …,tm – термы, в том  числе  и составные.
\end{enumerate}

База знаний состоит из предложений. Каждое предложение заканчивается точкой. Предложения бывают двух видов: факты и правила. Правило имеет вид: A :- B1,... , Bn. 
A называется заголовком правила, а B1,..., Bn – телом правила.
Факт – это частный случай правила, в котором отсутствует тело. Заголовок содержит отдельное знание о предметной области (составной терм), а тело содержит условия истинности этого знания. Правило называют условной истиной, а факт – безусловной.

Вопрос состоит только из тела – составного терма (или нескольких составных термов). Вопросы используются для выяснения выполнимости некоторого отношения между описанными в программе объектами. Система рассматривает вопрос как цель, к которой (к истинности которой) надо стремиться. Ответ на вопрос может оказаться логически положительным или отрицательным, в зависимости от того, может ли быть достигнута соответствующая цель.

\subsection*{Структура программы}

Программа на Prolog состоит из следующих разделов:
\begin{itemize}
	\item директивы компилятора — зарезервированные символьные константы,
	\item CONSTANTS — раздел описания констант,
	\item DOMAINS — раздел описания доменов,
	\item DATABASE — раздел описания предикатов внутренней базы данных,
	\item PREDICATES — раздел описания предикатов,
	\item CLAUSES — раздел описания предложений базы знаний,
	\item GOAL — раздел описания внутренней цели (вопроса).
В программе не обязательно должны быть все разделы.
\end{itemize}

\subsection*{Формирование результата}

Ответ на поставленный вопрос система дает в логической форме - «Да» или «Нет». Цель системы состоит в том, чтобы на поставленный вопрос найти возможность, исходя из базы знаний, ответить «Да». Вариантов ответить «Да» на поставленный вопрос может быть несколько. В нашем случае система настроена в режим получения всех возможных вариантов ответа. При поиске ответов на вопрос рассматриваются альтернативные варианты и находятся все возможные решения (методом проб и ошибок) - множества значений переменных, при которых на поставленный вопрос можно ответить - «Да».

Для выполнения логического вывода используется механизм унификации, встроенный в систему.
Унификация – операция, которая позволяет формализовать процесс логического вывода. С практической точки зрения  - это основной вычислительный шаг, с помощью которого происходит:
\begin{itemize}
	\item Двунаправленная передача параметров процедурам,
	\item Неразрушающее присваивание,
	\item Проверка условий (доказательство).
\end{itemize}

В процессе работы система выполняет большое число унификаций.  Попытка "увидеть одинаковость" – сопоставимость двух термов, может завершаться успехом или тупиковой ситуацией (неудачей). В последнем случае включается механизм отката к предыдущему шагу.

\section*{Задание}

\subsection*{Тестовая программа}

\begin{lstlisting}[caption=Тестовая программа]
predicates
	likes(symbol,symbol)
clauses
	likes(ellen,tennis).
	likes(john,football).
	likes(tom,baseball).
	likes(eric,swimming).
	likes(mark,tennis). 
	likes(bill,Activity):-likes (tom, Activity).
goal
	likes(bill, baseball).
\end{lstlisting}

Результат:
\begin{lstlisting}
yes
\end{lstlisting}

Ответ <<Да>> получается из-за правила $likes(bill,Activity) :- likes(tom, Activity)$, т.е. для любого $Activity$, для которого истинно $likes(tom, Activity)$, истинно и $likes(bill,Activity)$, а так как есть факт $likes(tom,baseball)$, то $likes(bill, baseball)$ - истинно.

\subsection*{Телефонный справочник}
\begin{lstlisting}[caption=Телефонный справочник]
domains 
	name, city, phone, street = string. 
	building, apartment = integer. 
	addr = address(city, street, building, apartment). 
predicates 
	abonent(name, phone, addr). 
clauses 
	abonent("Ilya Ivanov", "+79687853496", address("Moscow", "Pushkina", 2, 11)). 
	abonent("Ivan Petrov", "+79876798312", address("St-Petersburg", "Nevskaya", 19, 113)). 
	abonent("Dmitriy Vlasov", "+79253906739", address("Tver", "Leninskaya", 5, 72)). 
	abonent("Alexander Pushkin", "+79675128593", address("St-Petersburg", "Moyka", 12, 1)). 
	abonent("Mihail Knyazev", "+79236745690", address("Krasnodar", "Tverskaya", 2, 78)). 
\end{lstlisting}

Примеры:
\begin{table}[h!] 
\begin{tabularx}{\linewidth}{|>{\centering}X|>{\centering}X|}
	\hline
	goal & Результат \tabularnewline
	\hline
	abonent(Name, "+79253906739"{}, Address).  & Name=Dmitriy Vlasov, Address=address("Tver"{},"Leninskaya"{},5,72) \\
	1 Solution \tabularnewline
	\hline
	abonent("Ilya Ivanov"{}, Phone, Address).  & Phone=+79687853496, Address=address("Moscow"{},"Pushkina"{},2,11) \\
	1 Solution \tabularnewline
	\hline
	abonent(Name, Phone, address("St-Petersburg"{}, Street, Building, Apartment)). & Name=Ivan Petrov, Phone=+79876798312, Street=Nevskaya, Building=19, Apartment=113 
	Name=Alexander Pushkin, Phone=+79675128593, Street=Moyka, Building=12, Apartment=1 \\
	2 Solutions \tabularnewline
	\hline
\end{tabularx}
\end{table}
\end{document}